<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6. Expression Development</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="TACTIC Developer" /><link rel="up" href="index.html" title="TACTIC Developer" /><link rel="prev" href="ar01s05.html" title="5. Plugins" /><link rel="next" href="ar01s07.html" title="7. Validation" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ar01s05.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s07.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_expression_development"></a>6. Expression Development</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_using_expressions_in_scripting"></a>6.1. Using Expressions in Scripting</h3></div></div></div><p><span class="strong"><strong>Using Expressions in Python - Server code</strong></span></p><p>Expressions can be accessed directly through Python code. The expression
language is often very convenient to quickly perform relatively complex
searches quickly and easily.</p><p>To access the expressions in Python, you would use the following code:</p><pre class="screen">from pyasm.biz import ExpressionParser
parser = ExpressionParser()
expr = "@GET(prod/shot['code','chr001'].prod/shot_instance.prod/asset.code)"
result = parser.eval(expr)</pre><p>It is often more convenient just to access it through the Search module:</p><pre class="screen">from pyasm.search import Search
expr = "@GET(prod/shot['code','chr001'].prod/shot_instance.prod/asset.code)"
result = Search.eval(expr)</pre><p><span class="strong"><strong>Using Expressions in Python - Client API code</strong></span></p><p>To access the expressions in the Python Client API, you would use the
following code:</p><pre class="screen">server = TacticServerStub.get()
expr = "@GET(prod/shot['code','chr001'].prod/shot_instance.prod/asset.code)"
result = server.eval(expr)</pre><p>When the expression language returns sobjects, these will be in the form
of a dictionary like all other sobjects in the client API.</p><p><span class="strong"><strong>Using Expressions in Javascript - Client API code</strong></span></p><p>To access the expressions in the Javascript Client API, you would use
the following code:</p><pre class="screen">var server = TacticServerStub.get()
expr = "@GET(prod/shot['code','chr001'].prod/shot_instance.prod/asset.code)"
var result = server.eval(expr)</pre><p><span class="strong"><strong>Using Expressions in Widget Config</strong></span></p><p>The main widget to use expressions is
"tactic.ui.table.ExpressionElementWdg".</p><p>When using the ExpressionElementWdg, the starting point of the
expression is automatically the SObject associated with the row. This
allows you to use the shorthand form without having to filter.</p><pre class="screen">&lt;element name='code'&gt;
  &lt;display class='tactic.ui.table.ExpressionElementWdg'&gt;
    &lt;expression&gt;@GET(.code)&lt;/expression&gt;
  &lt;/display&gt;
&lt;/element&gt;</pre><p><span class="strong"><strong>Using Expressions inline in HTML</strong></span></p><p>When using the CustomLayoutWdg, inline expressions are supported using a
[expr][/expr] tag formatting.</p><pre class="screen">&lt;div&gt;
  &lt;h2&gt;There are [expr]@COUNT(prod/asset['asset_library', 'chr'])[/expr] Characters&lt;/h2&gt;
&lt;/div&gt;</pre><p><span class="strong"><strong>Using Expressions in CustomLayoutWdg</strong></span></p><p>The custom layout widget has a special html tag which can have html
embedded within it. CustomLayoutWdg provides the ability to embed
expressions within its html definition.</p><p>The following demonstrates a widget config using expressions:</p><pre class="screen">        &lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;config&gt;
&lt;example&gt;
&lt;html&gt;
  &lt;table&gt;
    &lt;tr&gt;&lt;td&gt;[expr]$LOGIN[/expr]&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;[expr]{@GET(.code)} : {@GET(.description)}[/expr]&lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
&lt;/html&gt;
&lt;/example&gt;
&lt;/config&gt;</pre><p>Please refere to the CustomLayoutWdg in the Widget Reference
documentation for more information on how to use the CustomLayoutWdg.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s05.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>